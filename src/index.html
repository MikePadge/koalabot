<!--
	Copyright (C) 2016  skhmt

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation version 3.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
 -->

<!DOCTYPE html>
<html>
<head>
	<title>
		KoalaBot
	</title>
	
	<script src="plotly-latest.min.js"></script>
	<script src="jquery-2.2.0.min.js"></script>
	<script src="jquery-ui.min.js"></script>
	<link rel="stylesheet" type="text/css" href="jquery-ui.min.css" />

	<script src="https://www.youtube.com/iframe_api"></script>
	
	<link rel="stylesheet" type="text/css" href="style.css" />
	<script src="commands.js"></script>
	<script src="message.js"></script>
	<script src="stats.js"></script>
	<script src="moderation.js"></script>
	<script src="timedMessages.js"></script>
	<script src="timer.js"></script>
	<script src="raffle.js"></script>
	<script src="songs.js"></script>
	<script src="quotes.js"></script>
	<script src="scripts.js"></script>
</head>
<body>

	<div id="top" style="-webkit-app-region: drag;">
		<span id="topTitle">KoalaBot v0.5b</span>
		<span id="topRight">
			<button id="devTools">devtools</button>
			<button id="minimize">minimize</button>
			<button id="maximize">maximize</button>
			<button id="exit">exit</button>
		</span>
	</div>

	<div id="tabs">
		<ul>
			<li><a href="#tabs-1">Chat</a></li>
			<li><a href="#tabs-2">Events</a></li>
			<li><a href="#tabs-3">Quotes</a></li>
			<li><a href="#tabs-4">Timed Msg</a></li>
			<li><a href="#tabs-5">Spam</a></li>
			<li><a href="#tabs-6">Commands</a></li>
			<li><a href="#tabs-7">Raffle</a></li>
			<li><a href="#tabs-8">Music</a></li>
			<li><a href="#tabs-9">Settings</a></li>
		</ul>

		<div id="tabs-1" class="tab">
			<div id="consoleBox">
				<span id="console"></span>
				<span id="userlist"></span>
			</div>
			<div id="chatDiv">
				<form onsubmit="chat(); return false;" id="chatForm">
					<input type="text" id="chatText" value="" autocomplete="off">
				</form>
			</div>
		</div>

		<div id="tabs-2" class="tab">
			<div id="hosts"></div> <!-- This tab's content is dynamically generated -->
		</div>

		<div id="tabs-3" class="tab">
			<div id="quotes"></div>
		</div>

		<div id="tabs-4" class="tab">
			<div>
				<button id="addMsgButton">Add Message</button> &nbsp; &nbsp;
				Text: <input type="text" id="addMsgText" value="" size="45"> &nbsp; &nbsp; 
				Repeat interval: <input type="text" id="addMsgTime" value="120" size="4" style="text-align: right">s 
			</div>
			<div id="timedMsgs">
				
			</div>
		</div>

		<div id="tabs-5" class="tab">
			<div id="moderation">
				<table>
					<tr>
						<td style="vertical-align: top;">
							<form id="linkProRadioSet">
								<input type="radio" id="linkProRadioOn" name="radio" value="on"><label for="linkProRadioOn">on</label>
								<input type="radio" id="linkProRadioOff" name="radio" value="off"><label for="linkProRadioOff">off</label>
							</form>
						</td>
						<td>
							<span class="labelText">Link Protection</span><br>
							Timeout: <input type="text" id="linkProTimeoutField" size="3" style="text-align: right">s &nbsp; &nbsp;
							Message: <input type="text" id="linkProTimeoutText" size="55">
						</td>
					</tr>
					<tr>
						<td style="vertical-align: top;">
							<form id="wordProRadioSet">
								<input type="radio" id="wordProRadioOn" name="radio" value="on"><label for="wordProRadioOn">on</label>
								<input type="radio" id="wordProRadioOff" name="radio" value="off"><label for="wordProRadioOff">off</label>
							</form>
						</td>
						<td>
							<span class="labelText">Word Protection</span><br>
							Timeout: <input type="text" id="wordProTimeoutField" size="3" style="text-align: right">s &nbsp; &nbsp;
							Message: <input type="text" id="wordProTimeoutText" size="55"><br>
							Banned word list, separated by spaces:<br>
							<textarea id="wordProArea" rows="5" cols="82"></textarea>
						</td>
					</tr>
					<tr>
						<td style="vertical-align: top;">
							<form id="capsProRadioSet">
								<input type="radio" id="capsProRadioOn" name="radio" value="on"><label for="capsProRadioOn">on</label>
								<input type="radio" id="capsProRadioOff" name="radio" value="off"><label for="capsProRadioOff">off</label>
							</form>
						</td>
						<td>
							<span class="labelText">Capital Letter Protection</span><br>
							Timeout: <input type="text" id="capsProTimeoutField" size="3" style="text-align: right">s &nbsp; &nbsp;
							Message: <input type="text" id="capsProTimeoutText" size="55"><br>
							Capitals allowed per word: <input type="text" id="capsProPerWordField" size="3"> &nbsp; &nbsp;
							Capitals allowed per post: <input type="text" id="capsProPerPostField" size="3"> <br>
						</td>
					</tr>
					<tr>
						<td style="vertical-align: top;">
							<form id="symbolProRadioSet">
								<input type="radio" id="symbolProRadioOn" name="radio" value="on"><label for="symbolProRadioOn">on</label>
								<input type="radio" id="symbolProRadioOff" name="radio" value="off"><label for="symbolProRadioOff">off</label>
							</form>
						</td>
						<td>
							<span class="labelText">Symbols Protection</span><br>
							Timeout: <input type="text" id="symbolProTimeoutField" size="3" style="text-align: right">s &nbsp; &nbsp;
							Message: <input type="text" id="symbolProTimeoutText" size="55"><br>
							Symbols allowed per post: <input type="text" id="symbolProSymbolsField" size="3"> <br>
						</td>
					</tr>
				</table>
			</div>
		</div>

		<div id="tabs-6" class="tab">
			<div>
				<button id="addCmdButton">Add Command</button>&nbsp;&nbsp; 
				<span class="labelText">Name:</span> <input type="text" id="addCmdName" size="40">&nbsp;&nbsp; 
				<span class="labelText">Level:</span> <select id="addCmdUserType">
					<option value="">Any user</option>
					<option value="sub">Only subs and mods</option>
					<option value="mod">Only mods</option>
					<option value="streamer">Only streamer</option>
					</select>
					<br>
				<span class="labelText">Command:</span> <input type="text" id="addCmdText" size="82">
			</div>
			<div id="commands"></div>
		</div>

		<div id="tabs-7" class="tab">
			<div id="raffleList"></div>

			<button id="raffleStart">start</button>
			<button id="raffleStop">stop</button>
			<button id="raffleWinner">pick winner</button>
			<span class="labelText" id="raffleStatus"></span>
			<br><br>
			<span class="labelText">Keyword: !</span><input type="text" id="raffleKeyword"><br>
			<br>
			<span class="labelText">Length of time to enter: </span><input type="text" id="raffleTime"> minutes<br>
			<br>
			<form id="raffleAnnounceSet">
				<span class="labelText">Announce winner in chat: </span>
				<input type="radio" id="raffleAnnounceOn" name="raffleAnnounceRadio" value="on"><label for="raffleAnnounceOn">ON</label>
				<input type="radio" id="raffleAnnounceTen" name="raffleAnnounceRadio" value="ten"><label for="raffleAnnounceTen">10s delay</label>
				<input type="radio" id="raffleAnnounceOff" name="raffleAnnounceRadio" value="off"><label for="raffleAnnounceOff">OFF</label>
			</form>
			<br>
			<span class="labelText">Start Text (%key% for the keyword and %time% for minutes):</span><br>
			<textarea id="raffleStartText" rows="3" cols="64"></textarea><br>
			<br>
			<span class="labelText">End Text:</span><br>
			<textarea id="raffleEndText" rows="3" cols="64"></textarea><br>
			<br>
			<span class="labelText">Winner Text (%winner% for the winner's username):</span><br>
			<textarea id="raffleWinnerText" rows="3" cols="64"></textarea><br>
		</div>

		<div id="tabs-8" class="tab">
			<div id="songList"></div>
			<iframe id="ytPlayer" type="text/html" width="450" height="254"
					src="http://www.youtube.com/embed/JFYVcz7h3o0?enablejsapi=1" frameborder="0"
					nwUserAgent="Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.111 Safari/537.36"></iframe>
			<br><br>
				<button id="nextSongButton">Next Song</button> 
				<button id="muteSongButton">Mute</button>
				<span id="muteSongStatus" class="blink"></span>
			<br><br>
				<form onsubmit="return false;">
					<button id="addSongButton">Add Song</button>
					<input type="text" id="addSongText" size="40">
				</form>
		</div>

		<div id="tabs-9" class="tab">
			<div id="config">
					<span class="labelText">Bot name:</span> <span id="displayName"></span>
					<br><br>
					<form onsubmit="return false;" style="padding:0; margin:0; display: inline-block">
						<span class="labelText">Access token:</span> <input type="password" id="getOauthField" size="36">
						<button id="saveOauth">Save token</button>
					</form><button id="getOauthLink">Get token</button>
					<br><br>
					<form onsubmit="return false;" style="padding:0; margin:0; display: inline-block">
						<span class="labelText">Channel:</span> <input type="text" id="getChannelField" size="20">
						<button id="changeChannel">Change channel</button>
					</form>
					<br><br>
					<span class="labelText" style="display: inline-block; width: 62px;">Game:</span>
					<form onsubmit="return false;" style="padding:0; margin:0; display: inline-block">
						<input type="text" id="gameField" size="75">
						<button id="updateGameButton">Update</button>
					</form>
					<br>
					<span class="labelText" style="display: inline-block; width: 62px;">Status:</span>
					<form onsubmit="return false;" style="padding:0; margin:0; display: inline-block">
						<input type="text" id="statusField" size="75">
						<button id="updateStatusButton">Update</button>
					</form>

					<br><br><br><br>


					<span class="labelText">Statistics:</span> &nbsp;
					<button id="openViewerGraph">View</button> &nbsp;
					<button id="newViewers">Reset &amp; backup</button>

					<br><br>

					<span class="labelText">Lap time: </span><span id="lapTime"></span> 
					<button id="resetLap">Lap</button>

					<br><br>

					<span class="labelText">!uptime display: </span>
					<form id="uptimeRadioSet" style="display: inline-block;">
						<input type="radio" id="uptimeRadioBot" name="radio" value="bot"><label for="uptimeRadioBot">bot time</label>
						<input type="radio" id="uptimeRadioStream" name="radio" value="stream"><label for="uptimeRadioStream">stream time</label>
						<input type="radio" id="uptimeRadioLap" name="radio" value="lap"><label for="uptimeRadioLap">lap time</label>
					</form>
			</div>
		</div>
	</div>

	
	<!-- Dialog windows below -->
	
	
	<div id="getOauthDialog" title="Get oauth">
		<iframe src="https://api.twitch.tv/kraken/oauth2/authorize?response_type=token&client_id=3y2ofy4qcsvnaybw9ogdzwmwfode8y0&redirect_uri=http://skhmt.github.io/bot/oauth.html&scope=channel_editor+chat_login&force_verify=true" style="outline: none; width: 650px; height: 480px; margin: 0; padding: 0; border: 0;"></iframe>
	</div>

	<div id="graphDialog" title="Viewer stats">
		<div id="graph"></div>
	</div>
	
</body>
</html>